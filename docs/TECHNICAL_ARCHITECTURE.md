# Ringle AI 영어학습 서비스 - 기술 구성도 및 Domain Knowledge 분석

## 1. 기술 구성도 및 작동 흐름도

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              사용자 (User)                                       │
│                         iOS / Android / Web Browser                              │
└───────────────────────────────────┬─────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           Frontend Layer                                         │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │  React 19 + Vite 7 + Capacitor 8                                        │   │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │   │
│  │  │  Home.jsx   │ │  Call.jsx   │ │ Result.jsx  │ │ Settings.jsx│       │   │
│  │  │  (메인화면) │ │ (음성통화)  │ │ (결과분석)  │ │ (튜터설정)  │       │   │
│  │  └─────────────┘ └──────┬──────┘ └─────────────┘ └─────────────┘       │   │
│  └─────────────────────────┼───────────────────────────────────────────────┘   │
│                            │                                                    │
│  ┌─────────────────────────▼───────────────────────────────────────────────┐   │
│  │                    Web Speech API (Browser Native)                       │   │
│  │                    음성 인식 (Speech Recognition)                        │   │
│  └─────────────────────────┬───────────────────────────────────────────────┘   │
└────────────────────────────┼────────────────────────────────────────────────────┘
                             │
                             │ HTTPS API Request
                             ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                          AWS Cloud Infrastructure                                │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │  API Gateway + CloudFront (CDN)                                         │   │
│  │  https://n4o7d3c14c.execute-api.us-east-1.amazonaws.com/prod/chat      │   │
│  └─────────────────────────┬───────────────────────────────────────────────┘   │
│                            │                                                    │
│                            ▼                                                    │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                      AWS Lambda (Python 3.11)                           │   │
│  │                      lambda_function.py                                  │   │
│  │  ┌─────────────────────────────────────────────────────────────────┐   │   │
│  │  │  Action Router (딕셔너리 디스패치)                               │   │   │
│  │  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐           │   │   │
│  │  │  │   chat   │ │   tts    │ │   stt    │ │ analyze  │           │   │   │
│  │  │  │ (대화)   │ │ (음성변환)│ │(텍스트변환)│ │ (분석)   │           │   │   │
│  │  │  └────┬─────┘ └────┬─────┘ └────┬─────┘ └────┬─────┘           │   │   │
│  │  └───────┼────────────┼────────────┼────────────┼─────────────────┘   │   │
│  └──────────┼────────────┼────────────┼────────────┼─────────────────────┘   │
│             │            │            │            │                          │
│             ▼            ▼            ▼            ▼                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                         AWS AI/ML Services                              │   │
│  │                                                                          │   │
│  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │   │
│  │  │  AWS Bedrock    │  │  Amazon Polly   │  │ AWS Transcribe  │         │   │
│  │  │  (Claude Haiku) │  │  (TTS 음성합성) │  │  (STT 음성인식) │         │   │
│  │  │                 │  │                 │  │                 │         │   │
│  │  │ ┌─────────────┐ │  │ Voice Options:  │  │ Language:       │         │   │
│  │  │ │ 대화 생성   │ │  │ - US (Joanna)   │  │ - en-US         │         │   │
│  │  │ │ 영어 분석   │ │  │ - UK (Amy)      │  │ - en-GB         │         │   │
│  │  │ │ CAFP 평가   │ │  │ - AU (Nicole)   │  │                 │         │   │
│  │  │ │ 문법 교정   │ │  │ - IN (Aditi)    │  │                 │         │   │
│  │  │ └─────────────┘ │  │                 │  │                 │         │   │
│  │  └────────┬────────┘  └─────────────────┘  └─────────────────┘         │   │
│  │           │                                                              │   │
│  │           │  ⚠️ DOMAIN KNOWLEDGE 필요 영역                              │   │
│  │           │                                                              │   │
│  │  ┌────────▼──────────────────────────────────────────────────────┐     │   │
│  │  │               Amazon Translate (번역)                          │     │   │
│  │  │               영어 ↔ 한국어 실시간 번역                         │     │   │
│  │  └───────────────────────────────────────────────────────────────┘     │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                         Data Storage Layer                              │   │
│  │  ┌─────────────────┐           ┌─────────────────┐                     │   │
│  │  │    DynamoDB     │           │       S3        │                     │   │
│  │  │ 사용자 설정     │           │ 오디오 파일     │                     │   │
│  │  │ 세션 기록       │           │ 정적 리소스     │                     │   │
│  │  │ 대화 히스토리   │           │                 │                     │   │
│  │  └─────────────────┘           └─────────────────┘                     │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. 기술 작동 흐름도 (Sequence)

```
┌──────┐     ┌──────────┐    ┌──────────┐    ┌─────────┐    ┌───────┐    ┌─────────┐
│ User │     │ Frontend │    │ Lambda   │    │ Bedrock │    │ Polly │    │DynamoDB │
└──┬───┘     └────┬─────┘    └────┬─────┘    └────┬────┘    └───┬───┘    └────┬────┘
   │              │               │               │             │             │
   │ 1. 음성 입력 │               │               │             │             │
   │─────────────>│               │               │             │             │
   │              │               │               │             │             │
   │              │ 2. Speech-to-Text             │             │             │
   │              │ (Web Speech API)              │             │             │
   │              │──────────────>│               │             │             │
   │              │               │               │             │             │
   │              │               │ 3. chat 요청  │             │             │
   │              │               │──────────────>│             │             │
   │              │               │               │             │             │
   │              │               │   ┌───────────────────────────────────┐   │
   │              │               │   │ 🔴 DOMAIN KNOWLEDGE 필요 지점 1   │   │
   │              │               │   │                                   │   │
   │              │               │   │ - 레벨별 적절한 응답 생성         │   │
   │              │               │   │ - 비즈니스/일상/여행 영어 전문성  │   │
   │              │               │   │ - 자연스러운 교육적 대화 유도     │   │
   │              │               │   └───────────────────────────────────┘   │
   │              │               │               │             │             │
   │              │               │ 4. AI 응답    │             │             │
   │              │               │<──────────────│             │             │
   │              │               │               │             │             │
   │              │               │ 5. TTS 요청   │             │             │
   │              │               │──────────────────────────────>           │
   │              │               │               │             │             │
   │              │               │ 6. 음성 데이터│             │             │
   │              │               │<──────────────────────────────           │
   │              │               │               │             │             │
   │              │ 7. 응답 반환  │               │             │             │
   │              │<──────────────│               │             │             │
   │              │               │               │             │             │
   │ 8. 음성 출력 │               │               │             │             │
   │<─────────────│               │               │             │             │
   │              │               │               │             │             │
   │              │    [대화 반복...]             │             │             │
   │              │               │               │             │             │
   │ 9. 통화 종료 │               │               │             │             │
   │─────────────>│               │               │             │             │
   │              │               │               │             │             │
   │              │ 10. analyze 요청              │             │             │
   │              │──────────────>│──────────────>│             │             │
   │              │               │               │             │             │
   │              │               │   ┌───────────────────────────────────┐   │
   │              │               │   │ 🔴 DOMAIN KNOWLEDGE 필요 지점 2   │   │
   │              │               │   │                                   │   │
   │              │               │   │ - CAFP 점수 평가 기준 설계        │   │
   │              │               │   │ - 문법 오류 분류 체계             │   │
   │              │               │   │ - 레벨별 적절한 피드백 설계       │   │
   │              │               │   │ - 어휘 난이도 분류               │   │
   │              │               │   │ - 발음 평가 기준                  │   │
   │              │               │   └───────────────────────────────────┘   │
   │              │               │               │             │             │
   │              │               │ 11. 분석 결과 │             │             │
   │              │               │<──────────────│             │             │
   │              │               │               │             │             │
   │              │               │ 12. 세션 저장 │             │             │
   │              │               │────────────────────────────────────────>│
   │              │               │               │             │             │
   │              │ 13. 결과 표시 │               │             │             │
   │              │<──────────────│               │             │             │
   │              │               │               │             │             │
   │ 14. 분석 확인│               │               │             │             │
   │<─────────────│               │               │             │             │
   │              │               │               │             │             │
```

---

## 3. Domain Knowledge 필요 영역 상세 분석

### 3.1 왜 Domain Knowledge가 필요한가?

현재 시스템은 **Claude Haiku AI**가 영어 교육의 핵심 기능을 담당하고 있습니다.
그러나 AI 프롬프트만으로는 **교육학적으로 검증된 품질**을 보장하기 어렵습니다.

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                     현재 시스템의 한계점                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────┐           ┌─────────────────────────────────────┐ │
│  │    AI (Claude)      │           │      필요한 전문 지식               │ │
│  │                     │           │                                     │ │
│  │  - 일반적인 영어    │    GAP    │  - 교육학적 평가 기준               │ │
│  │  - 패턴 기반 분석   │  ◄─────►  │  - 언어학적 오류 분류 체계          │ │
│  │  - 프롬프트 의존    │           │  - 레벨별 학습 경로 설계            │ │
│  │                     │           │  - CEFR 기준 연계                   │ │
│  └─────────────────────┘           └─────────────────────────────────────┘ │
│                                                                             │
│  🔴 이 GAP을 메우기 위해 영어 영문학 전문가 (Domain Expert)가 필요         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 Domain Knowledge가 필요한 구체적 영역

#### 영역 1: CAFP 평가 시스템

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      CAFP 평가 시스템 설계                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  CAFP = Complexity (복잡성) + Accuracy (정확성) +                           │
│         Fluency (유창성) + Pronunciation (발음)                             │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  현재 구현 (lambda_function.py:108-122)                             │   │
│  │                                                                      │   │
│  │  "cafp_scores": {                                                   │   │
│  │    "complexity": <0-100, vocabulary diversity>,      ◄── 기준 불명확│   │
│  │    "accuracy": <0-100, grammatical correctness>,     ◄── 검증 안됨  │   │
│  │    "fluency": <0-100, natural flow>,                 ◄── 주관적     │   │
│  │    "pronunciation": <0-100, estimated>               ◄── 텍스트로 추정│  │
│  │  }                                                                   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  🔴 필요한 Domain Knowledge:                                                │
│                                                                             │
│  ┌───────────────┐  ┌────────────────────────────────────────────────────┐ │
│  │  Complexity   │  │ - CEFR 기준 레벨별 복잡성 정의 (A1~C2)             │ │
│  │               │  │ - 문장 구조 복잡도 측정 기준 (종속절, 관계절 등)   │ │
│  │               │  │ - 어휘 난이도 분류 체계 (기초/중급/고급)           │ │
│  └───────────────┘  └────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────┐  ┌────────────────────────────────────────────────────┐ │
│  │  Accuracy     │  │ - 문법 오류 심각도 분류 (치명적/경미)              │ │
│  │               │  │ - L1(한국어) 간섭 오류 패턴 분류                   │ │
│  │               │  │ - 비즈니스 영어 표현의 적절성 기준                 │ │
│  └───────────────┘  └────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────┐  ┌────────────────────────────────────────────────────┐ │
│  │  Fluency      │  │ - 자연스러운 담화 구조 패턴                        │ │
│  │               │  │ - 억양별(US/UK/AU/IN) 자연스러움 기준              │ │
│  │               │  │ - 필러워드 허용 범위 (맥락별 차이)                 │ │
│  └───────────────┘  └────────────────────────────────────────────────────┘ │
│                                                                             │
│  ┌───────────────┐  ┌────────────────────────────────────────────────────┐ │
│  │ Pronunciation │  │ - 텍스트 기반 발음 예측 모델 설계                  │ │
│  │               │  │ - 한국인 학습자 공통 발음 오류 패턴                │ │
│  │               │  │ - 억양별 발음 특성 차이                            │ │
│  └───────────────┘  └────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 영역 2: 문법 교정 시스템

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      문법 교정 시스템 설계                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  현재: AI가 일반적인 문법 오류 탐지 및 교정                                  │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  "grammar_corrections": [                                           │   │
│  │    {                                                                │   │
│  │      "original": "<원본>",                                          │   │
│  │      "corrected": "<교정>",                                         │   │
│  │      "explanation": "<설명 in Korean>"  ◄── 교육적 효과 검증 필요   │   │
│  │    }                                                                │   │
│  │  ]                                                                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  🔴 필요한 Domain Knowledge:                                                │
│                                                                             │
│  1. 오류 분류 체계 (Error Taxonomy)                                         │
│     ┌─────────────────────────────────────────────────────────────────┐   │
│     │ ├── Morphological (형태론적)                                    │   │
│     │ │   ├── Subject-Verb Agreement (주어-동사 일치)                 │   │
│     │ │   ├── Tense Errors (시제 오류)                                │   │
│     │ │   └── Plural/Singular (단수/복수)                             │   │
│     │ │                                                               │   │
│     │ ├── Syntactic (통사론적)                                        │   │
│     │ │   ├── Word Order (어순)                                       │   │
│     │ │   ├── Missing Elements (요소 누락)                            │   │
│     │ │   └── Redundancy (중복)                                       │   │
│     │ │                                                               │   │
│     │ ├── Lexical (어휘적)                                            │   │
│     │ │   ├── Wrong Word Choice (단어 선택 오류)                      │   │
│     │ │   ├── Collocation Errors (연어 오류)                          │   │
│     │ │   └── Register Mismatch (문체 불일치)                         │   │
│     │ │                                                               │   │
│     │ └── Pragmatic (화용론적)                                        │   │
│     │     ├── Inappropriate Formality (격식 부적절)                   │   │
│     │     └── Cultural Inappropriateness (문화적 부적절)              │   │
│     └─────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  2. 한국인 학습자 특화 오류 패턴 (L1 Interference)                          │
│     ┌─────────────────────────────────────────────────────────────────┐   │
│     │ - 관사 (a/an/the) 누락/오용                                     │   │
│     │ - 전치사 직역 오류 ("go to home" → "go home")                   │   │
│     │ - 시제 일관성 오류                                               │   │
│     │ - 조동사 과잉/누락                                               │   │
│     │ - "Konglish" 표현 사용                                          │   │
│     └─────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 영역 3: 토픽별 전문 영어 지식

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      토픽별 전문 영어 콘텐츠                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  현재 지원 토픽: Business | Daily | Travel | Interview                       │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  🔴 Business English (비즈니스 영어)                                │   │
│  │                                                                      │   │
│  │  필요한 전문 지식:                                                   │   │
│  │  - 비즈니스 이메일 작성 관례                                         │   │
│  │  - 회의/프레젠테이션 표현                                            │   │
│  │  - 협상/설득 언어                                                    │   │
│  │  - 산업별 전문 용어                                                  │   │
│  │  - 문화권별 비즈니스 커뮤니케이션 차이                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  🔴 Interview English (면접 영어)                                   │   │
│  │                                                                      │   │
│  │  필요한 전문 지식:                                                   │   │
│  │  - STAR 기법 (Situation, Task, Action, Result)                      │   │
│  │  - 자기소개/경력 설명 구조                                           │   │
│  │  - 일반적인 면접 질문 및 모범 답변 패턴                              │   │
│  │  - Behavioral Interview 대응                                         │   │
│  │  - 연봉/조건 협상 표현                                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 영역 4: 레벨별 학습 경로 설계

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      레벨별 학습 경로 설계                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  현재 레벨: Beginner | Intermediate | Advanced                              │
│                                                                             │
│  🔴 필요한 Domain Knowledge:                                                │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  CEFR (Common European Framework) 연계                              │   │
│  │                                                                      │   │
│  │  Beginner     ──► A1 ~ A2                                           │   │
│  │  Intermediate ──► B1 ~ B2                                           │   │
│  │  Advanced     ──► C1 ~ C2                                           │   │
│  │                                                                      │   │
│  │  각 레벨별:                                                          │   │
│  │  - 목표 어휘 범위 (단어 수, 난이도)                                  │   │
│  │  - 목표 문법 구조 (복잡도)                                           │   │
│  │  - 기대 발화 속도 (WPM)                                              │   │
│  │  - 적절한 토픽 및 난이도 조합                                        │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  AI 튜터 응답 가이드라인                                             │   │
│  │                                                                      │   │
│  │  Beginner:                                                           │   │
│  │  - 짧고 단순한 문장                                                  │   │
│  │  - 천천히, 명확하게                                                  │   │
│  │  - 기초 어휘만 사용                                                  │   │
│  │  - 많은 격려와 힌트 제공                                             │   │
│  │                                                                      │   │
│  │  Intermediate:                                                       │   │
│  │  - 일상적인 복잡한 문장                                              │   │
│  │  - 자연스러운 속도                                                   │   │
│  │  - 관용 표현 도입                                                    │   │
│  │  - 간접적인 교정                                                     │   │
│  │                                                                      │   │
│  │  Advanced:                                                           │   │
│  │  - 복잡한 문장 구조                                                  │   │
│  │  - 원어민 수준 속도                                                  │   │
│  │  - 숙어, 속담, 뉘앙스                                                │   │
│  │  - 깊이 있는 토론 유도                                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. Domain Expert 역할 정의

```
┌─────────────────────────────────────────────────────────────────────────────┐
│              영어 영문학 전문가 (Domain Expert) 역할                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  필요 자격:                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │ - 영어영문학과 전공 (또는 동등 수준)                                 │   │
│  │ - TESOL/TEFL 자격증 보유 우대                                        │   │
│  │ - 영어 교육 경험 (특히 성인 대상)                                    │   │
│  │ - 비즈니스 영어 지식                                                 │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  담당 업무:                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                                                                      │   │
│  │  1. 평가 체계 설계 (30%)                                             │   │
│  │     ├── CAFP 점수 산정 기준 수립                                    │   │
│  │     ├── 레벨별 기대 수준 정의                                        │   │
│  │     └── 평가 루브릭 작성                                             │   │
│  │                                                                      │   │
│  │  2. AI 프롬프트 설계 (25%)                                           │   │
│  │     ├── 교육적으로 효과적인 대화 유도 프롬프트                       │   │
│  │     ├── 분석 프롬프트 품질 검증                                      │   │
│  │     └── 피드백 메시지 톤/내용 설계                                   │   │
│  │                                                                      │   │
│  │  3. 콘텐츠 개발 (25%)                                                │   │
│  │     ├── 토픽별 대화 시나리오                                         │   │
│  │     ├── 레벨별 어휘 리스트                                           │   │
│  │     └── 문법 설명 템플릿                                             │   │
│  │                                                                      │   │
│  │  4. 품질 검증 (20%)                                                  │   │
│  │     ├── AI 응답 품질 모니터링                                        │   │
│  │     ├── 사용자 피드백 분석                                           │   │
│  │     └── 지속적 개선 제안                                             │   │
│  │                                                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 기술 스택 요약

| 계층 | 기술 | 용도 |
|------|------|------|
| **Frontend** | React 19 + Vite 7 | UI 프레임워크 |
| | Capacitor 8 | iOS/Android 네이티브 브릿지 |
| | Framer Motion | 애니메이션 |
| | Web Speech API | 브라우저 음성 인식 |
| **Backend** | AWS Lambda (Python 3.11) | 서버리스 함수 |
| | API Gateway | REST API 엔드포인트 |
| **AI/ML** | AWS Bedrock (Claude Haiku) | 대화 생성 + 분석 |
| | Amazon Polly | TTS (음성 합성) |
| | AWS Transcribe | STT (음성 인식) |
| | Amazon Translate | 영한 번역 |
| **Storage** | DynamoDB | 사용자 데이터, 세션 기록 |
| | S3 | 오디오 파일, 정적 리소스 |
| **Hosting** | CloudFront + S3 | 웹 배포 |

---

*작성일: 2026-01-22*
*버전: 1.0*
